(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{215:function(t,o,n){var content=n(243);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(36).default)("4ca4744c",content,!0,{sourceMap:!1})},242:function(t,o,n){"use strict";var l=n(215);n.n(l).a},243:function(t,o,n){(o=n(35)(!1)).push([t.i,".search-con .load-list-con[data-v-68cff89e]{margin-top:20px;padding:10px;display:flex;align-items:center;justify-content:center;color:#999}.search-con .load-list-con .load-styl[data-v-68cff89e]{background-color:transparent}",""]),t.exports=o},251:function(t,o,n){"use strict";n.r(o);var l=n(225),e=n(198),c=n(90),r={data:function(){return{keywords:"",limit:30,lists:[],isLoading:!1,loadAll:!1}},components:{baseBtn:e.a,waterflow:l.a},mounted:function(){var t=this;this.keywords=this.$route.params.id,this.getSearchData(),window.onscroll=function(){t.loadAll||t.loadAll||t.throttle(t.loadCaculate(),400)}},beforeDestroy:function(){window.onscroll=null},methods:{loadCaculate:function(){var t=window.$(window).scrollTop(),o=window.$(window).height();window.$(".flud-con").height()+100-t-o<55&&!this.isLoading&&this.getSearchData()},throttle:function(t,o){var n=!0;return function(){var l=arguments,e=this;n&&(n=!1,setTimeout((function(){t.apply(e,l),n=!0}),o))}},getSearchData:function(){var t=this;this.isLoading=!0,c.a.get({url:"/search/xx",data:{keywords:this.keywords,offset:0,limit:this.limit},done:function(o){t.isLoading=!1,o.code?(t.lists=t.lists.concat(o.data.list),t.loadAll=o.data.list.length<t.limit):t.$toast("系统繁忙请重试")},fail:function(o){console.log(o),t.isLoading=!1}})}}},d=(n(242),n(12)),component=Object(d.a)(r,(function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("div",{staticClass:"search-con"},[n("div",{staticClass:"search-video-con"},[n("waterflow",{attrs:{"contain-id":"search-key",lists:t.lists}}),t._v(" "),n("div",{staticClass:"load-list-con"},[t.isLoading?n("base-btn",{staticClass:"load-styl",attrs:{loading:t.isLoading}},[t._v("正在加载")]):t._e(),t._v(" "),t.loadAll?n("span",[t._v("已全部加载完")]):t._e(),t._v(" "),t.loadAll&&0===t.lists.length?n("span",[t._v("暂无搜索内容")]):t._e()],1)],1)])}),[],!1,null,"68cff89e",null);o.default=component.exports}}]);